"use strict";(self["webpackChunkunicorn_banners"]=self["webpackChunkunicorn_banners"]||[]).push([[392],{1684:function(e,t,n){n.r(t),n.d(t,{default:function(){return an}});var a=n(3396);const s={class:"page-container"};function o(e,t,n,o,r,i){const l=(0,a.up)("GeneratorMenu"),c=(0,a.up)("BannersList"),u=(0,a.up)("NewBannersBanner"),d=(0,a.up)("SuggestionBanner");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(l,{class:"menuBlock"}),(0,a.Wm)(c),(0,a.Wm)(u,{class:"newBannersBlock"}),(0,a.Wm)(d,{class:"suggestionBlock"})])}var r=n(7139),i=n(6126);const l=e=>((0,a.dD)("data-v-568ebfc4"),e=e(),(0,a.Cn)(),e),c={class:"title"},u=(0,a.Uk)(" Ai generate banner "),d={class:"wrapper"},p={class:"top"},v={class:"form"},m={class:"uploaders"},h={class:"bottom"},g=l((()=>(0,a._)("img",{src:i,width:"20",class:"icon"},null,-1))),b=(0,a.Uk)(" Ai Generate banner "),w={class:"sizes"},f=l((()=>(0,a._)("span",{class:"available-sizes"},"Available sizes",-1))),C={class:"sizes-container"};function _(e,t,n,s,o,i){const l=(0,a.up)("IconWithTooltip"),_=(0,a.up)("InputWithLabel"),y=(0,a.up)("vSelect"),S=(0,a.up)("WithLabel"),D=(0,a.up)("ColorsList"),k=(0,a.up)("UploadCard"),W=(0,a.up)("AppButton");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h2",c,[u,(0,a.Wm)(l)]),(0,a._)("div",d,[(0,a._)("div",p,[(0,a._)("div",v,[(0,a.Wm)(_,{modelValue:e.offer,"onUpdate:modelValue":t[0]||(t[0]=t=>e.offer=t),label:"Your offer",placeholder:"Help your business",type:"text",max:"30"},null,8,["modelValue"]),(0,a.Wm)(_,{modelValue:e.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.description=t),label:"Description",placeholder:"Start your ads from us",type:"text",max:"54"},null,8,["modelValue"]),(0,a.Wm)(S,{label:"Category company"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{options:o.companyCategories,modelValue:o.formData.companyCategory,"onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.companyCategory=e),clearable:!1,placeholder:"Crypto Assets"},null,8,["options","modelValue"])])),_:1}),(0,a.Wm)(S,{label:"Brand color"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{colorList:s.colorList},null,8,["colorList"])])),_:1})]),(0,a._)("div",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.uploaders,(({label:e,icon:t})=>((0,a.wg)(),(0,a.j4)(k,{key:e,label:e,icon:t},null,8,["label","icon"])))),128))])]),(0,a._)("div",h,[(0,a.Wm)(W,{color:"primary"},{default:(0,a.w5)((()=>[g,b])),_:1}),(0,a._)("div",w,[f,(0,a._)("div",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.availableSizes,(([e])=>((0,a.wg)(),(0,a.iD)("div",{key:e},(0,r.zw)(e),1)))),128))])])])])])}var y=n(5176);const S={class:"container"};function D(e,t,n,s,o,r){const i=(0,a.up)("AppInput"),l=(0,a.up)("WithLabel");return(0,a.wg)(),(0,a.iD)("div",S,[(0,a.Wm)(l,{max:n.max,label:n.label,value:e.value},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{id:s.id,modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),placeholder:n.placeholder,type:"text"},null,8,["id","modelValue","placeholder"])])),_:1},8,["max","label","value"])])}let k=0;const W=(e="id")=>(k++,`${e}${k}`);var B=n(1534);const L={class:"container"},I=["for"],x={class:"title"};function Z(e,t,n,s,o,i){return(0,a.wg)(),(0,a.iD)("div",L,[(0,a._)("label",{class:"label",for:s.id},[(0,a._)("span",x,(0,r.zw)(n.label),1),n.max?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,r.C_)([i.isOverflow?"symbols-overflow":null,"symbols"])},(0,r.zw)(i.symbolsCounter),3)):(0,a.kq)("",!0)],8,I),(0,a.WI)(e.$slots,"default",{id:s.id},void 0,!0)])}var z={setup(){return{id:W()}},props:{label:{type:String,required:!0},value:String,max:String},computed:{isOverflow(){return this.value.length>this.max},symbolsCounter(){return`${this.value.length}/${this.max}`}},components:{}},A=n(89);const V=(0,A.Z)(z,[["render",Z],["__scopeId","data-v-494ef568"]]);var H=V,P={setup(){return{id:W()}},props:{label:String,placeholder:String,max:String},data:function(){return{value:""}},components:{AppInput:B.Z,WithLabel:H}};const M=(0,A.Z)(P,[["render",D],["__scopeId","data-v-519d0d45"]]);var U=M,$=n(4226),F=n.n($);const q={class:"container"},T=["onClick"];function j(e,t,n,s,o,i){const l=(0,a.up)("CheckMarkIcon");return(0,a.wg)(),(0,a.iD)("div",q,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.colorList,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,onClick:()=>i.onChangeColor(e),class:"colorCheckbox",style:(0,r.j5)({backgroundColor:e})},[e===o.activeColor?((0,a.wg)(),(0,a.j4)(l,{key:0})):(0,a.kq)("",!0)],12,T)))),128))])}const O={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E=(0,a.uE)('<mask id="mask0_1028_5869" style="mask-type:alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16"><rect width="16" height="16" fill="#D9D9D9"></rect></mask><g mask="url(#mask0_1028_5869)"><circle cx="8" cy="8" r="6" fill="#1E1E1E"></circle><path d="M7.06732 11.0693L11.7673 6.36927L10.834 5.43594L7.06732 9.2026L5.16732 7.3026L4.23398 8.23594L7.06732 11.0693ZM8.00065 14.6693C7.07843 14.6693 6.21176 14.4942 5.40065 14.1439C4.58954 13.7942 3.88398 13.3193 3.28398 12.7193C2.68398 12.1193 2.2091 11.4137 1.85932 10.6026C1.5091 9.79149 1.33398 8.92483 1.33398 8.0026C1.33398 7.08038 1.5091 6.21372 1.85932 5.4026C2.2091 4.59149 2.68398 3.88594 3.28398 3.28594C3.88398 2.68594 4.58954 2.21083 5.40065 1.8606C6.21176 1.51083 7.07843 1.33594 8.00065 1.33594C8.92287 1.33594 9.78954 1.51083 10.6007 1.8606C11.4118 2.21083 12.1173 2.68594 12.7173 3.28594C13.3173 3.88594 13.7922 4.59149 14.142 5.4026C14.4922 6.21372 14.6673 7.08038 14.6673 8.0026C14.6673 8.92483 14.4922 9.79149 14.142 10.6026C13.7922 11.4137 13.3173 12.1193 12.7173 12.7193C12.1173 13.3193 11.4118 13.7942 10.6007 14.1439C9.78954 14.4942 8.92287 14.6693 8.00065 14.6693Z" fill="white"></path></g>',2),Y=[E];function G(e,t){return(0,a.wg)(),(0,a.iD)("svg",O,Y)}const K={},R=(0,A.Z)(K,[["render",G]]);var N=R,J={props:{colorList:{required:!0,type:[String]}},data(){return{activeColor:this.colorList[0]}},methods:{onChangeColor(e){this.activeColor=e}},components:{CheckMarkIcon:N}};const Q=(0,A.Z)(J,[["render",j],["__scopeId","data-v-cfb3f8a0"]]);var X=Q;const ee={"1920x1080 (Stories)":"1920x1080","1080x1080 (Post)":"1080x1080","11280x720 (Post)":"11280x720"},te=["#FFFFFF","#25262C","#EE5151","#FFC133","#2467EC","#189F25","#8247FF","#FF792E"],ne=e=>((0,a.dD)("data-v-38df09e2"),e=e(),(0,a.Cn)(),e),ae={class:"card"},se={class:"title"},oe=ne((()=>(0,a._)("span",{class:"buttonText"},"Load image",-1))),re=ne((()=>(0,a._)("div",{class:"fileName"},"Image.png",-1)));function ie(e,t,n,s,o,i){const l=(0,a.up)("AppButton");return(0,a.wg)(),(0,a.iD)("div",ae,[(0,a._)("div",se,(0,r.zw)(n.label),1),((0,a.wg)(),(0,a.j4)((0,a.LL)(n.icon),{class:"imageIcon"})),(0,a.Wm)(l,{color:"#A9A9AA",class:"button"},{default:(0,a.w5)((()=>[oe])),_:1}),re])}const le={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ce=(0,a._)("path",{d:"M3.75 31.75C2.7875 31.75 1.96325 31.4076 1.27725 30.7227C0.592416 30.0368 0.25 29.2125 0.25 28.25V3.75C0.25 2.7875 0.592416 1.96325 1.27725 1.27725C1.96325 0.592416 2.7875 0.25 3.75 0.25H19.5V9H23V12.5H31.75V28.25C31.75 29.2125 31.4076 30.0368 30.7227 30.7227C30.0368 31.4076 29.2125 31.75 28.25 31.75H3.75ZM5.5 24.75H26.5L19.9375 16L14.6875 23L10.75 17.75L5.5 24.75ZM24.75 10.75V7.25H21.25V3.75H24.75V0.25H28.25V3.75H31.75V7.25H28.25V10.75H24.75Z",fill:"#D9D9D9"},null,-1),ue=[ce];function de(e,t){return(0,a.wg)(),(0,a.iD)("svg",le,ue)}const pe={},ve=(0,A.Z)(pe,[["render",de]]);var me=ve,he={props:{label:{type:String,required:!0},icon:{type:Object,required:!0}},components:{ImageIcon:me,AppButton:y.Z}};const ge=(0,A.Z)(he,[["render",ie],["__scopeId","data-v-38df09e2"]]);var be=ge;const we={width:"42",height:"28",viewBox:"0 0 42 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fe=(0,a._)("path",{d:"M8.6625 28L0.875 14L8.75 0H15.75L7.875 14L12.425 22.1375L26.075 0H33.25L41.125 14L33.25 28H26.25L34.125 14L29.575 5.95L16.0125 28H8.6625Z",fill:"#D9D9D9"},null,-1),Ce=[fe];function _e(e,t){return(0,a.wg)(),(0,a.iD)("svg",we,Ce)}const ye={},Se=(0,A.Z)(ye,[["render",_e]]);var De=Se;const ke=(0,a._)("div",null,"This is the Popper content 🍿",-1);function We(e,t,n,s,o,r){const i=(0,a.up)("InfoIcon"),l=(0,a.up)("AppTooltip");return(0,a.wg)(),(0,a.j4)(l,{hover:""},{content:(0,a.w5)((()=>[ke])),default:(0,a.w5)((()=>[(0,a.Wm)(i)])),_:1})}const Be={class:"content"};function Le(e,t,n,s,o,i){const l=(0,a.up)("Popper");return(0,a.wg)(),(0,a.j4)(l,(0,r.vs)((0,a.F4)(e.$attrs)),{content:(0,a.w5)((t=>[(0,a._)("div",Be,[(0,a.WI)(e.$slots,"content",(0,r.vs)((0,a.F4)(t)),void 0,!0)])])),default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default",{},void 0,!0)])),_:3},16)}var Ie=n(3758),xe={props:{textContent:String,content:Object},components:{Popper:Ie.Z}};const Ze=(0,A.Z)(xe,[["render",Le],["__scopeId","data-v-1fafa32d"]]);var ze=Ze;const Ae={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ve=(0,a._)("path",{d:"M10.834 17.8359H13.1673V10.8359H10.834V17.8359ZM12.0007 8.5026C12.3312 8.5026 12.6085 8.3906 12.8325 8.1666C13.0557 7.94338 13.1673 7.66649 13.1673 7.33594C13.1673 7.00538 13.0557 6.7281 12.8325 6.5041C12.6085 6.28088 12.3312 6.16927 12.0007 6.16927C11.6701 6.16927 11.3932 6.28088 11.17 6.5041C10.946 6.7281 10.834 7.00538 10.834 7.33594C10.834 7.66649 10.946 7.94338 11.17 8.1666C11.3932 8.3906 11.6701 8.5026 12.0007 8.5026ZM12.0007 23.6693C10.3868 23.6693 8.8701 23.3628 7.45065 22.7499C6.03121 22.1378 4.79648 21.3068 3.74648 20.2568C2.69648 19.2068 1.86543 17.972 1.25332 16.5526C0.640429 15.1332 0.333984 13.6165 0.333984 12.0026C0.333984 10.3887 0.640429 8.87205 1.25332 7.45261C1.86543 6.03316 2.69648 4.79844 3.74648 3.74844C4.79648 2.69844 6.03121 1.86699 7.45065 1.2541C8.8701 0.641993 10.3868 0.335938 12.0007 0.335938C13.6145 0.335938 15.1312 0.641993 16.5507 1.2541C17.9701 1.86699 19.2048 2.69844 20.2548 3.74844C21.3048 4.79844 22.1359 6.03316 22.748 7.45261C23.3609 8.87205 23.6673 10.3887 23.6673 12.0026C23.6673 13.6165 23.3609 15.1332 22.748 16.5526C22.1359 17.972 21.3048 19.2068 20.2548 20.2568C19.2048 21.3068 17.9701 22.1378 16.5507 22.7499C15.1312 23.3628 13.6145 23.6693 12.0007 23.6693Z",fill:"#A9A9AA"},null,-1),He=[Ve];function Pe(e,t){return(0,a.wg)(),(0,a.iD)("svg",Ae,He)}const Me={},Ue=(0,A.Z)(Me,[["render",Pe]]);var $e=Ue,Fe={props:{content:{type:String}},components:{AppTooltip:ze,InfoIcon:$e}};const qe=(0,A.Z)(Fe,[["render",We]]);var Te=qe;const je=[{label:"Image product / website / app",icon:me},{label:"Logotype Company",icon:De}];var Oe={setup(){return{availableSizes:Object.entries(ee),colorList:te,uploaders:je}},props:{String:String},data(){return{formData:{description:"description",offer:"",companyCategory:null},companyCategories:["1",2,3]}},components:{AppButton:y.Z,InputWithLabel:U,vSelect:F(),WithLabel:H,ColorsList:X,UploadCard:be,IconWithTooltip:Te}};const Ee=(0,A.Z)(Oe,[["render",_],["__scopeId","data-v-568ebfc4"]]);var Ye=Ee;const Ge=e=>((0,a.dD)("data-v-f03cfa4a"),e=e(),(0,a.Cn)(),e),Ke=Ge((()=>(0,a._)("div",{class:"title"},"All our banner",-1))),Re={class:"container"};function Ne(e,t,n,s,o,r){const i=(0,a.up)("BannerCard");return(0,a.wg)(),(0,a.iD)(a.HY,null,[Ke,(0,a._)("div",Re,[(0,a.Wm)(i),(0,a.Wm)(i),(0,a.Wm)(i),(0,a.Wm)(i),(0,a.Wm)(i),(0,a.Wm)(i)])],64)}const Je=e=>((0,a.dD)("data-v-e100a910"),e=e(),(0,a.Cn)(),e),Qe={class:"bannerCard"},Xe=Je((()=>(0,a._)("div",{class:"img"},null,-1))),et={class:"card-metrics"},tt={class:"availableScreenSizes"},nt={class:"buttons"},at=(0,a.Uk)("Free download"),st=(0,a.Uk)("Edit Banner");function ot(e,t,n,s,o,i){const l=(0,a.up)("StatisticBlock"),c=(0,a.up)("BadgeWithCheckbox"),u=(0,a.up)("AppButton");return(0,a.wg)(),(0,a.iD)("div",Qe,[Xe,(0,a._)("div",et,[(0,a.Wm)(l,{desciption:"Conversion",value:"0.17",valuePostscript:"%",tooltipValue:"blahblah"}),(0,a.Wm)(l,{desciption:"Number of downloads",value:"17",valuePostscript:"times",tooltipValue:"blahblah"})]),(0,a._)("div",tt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.sizesMapper,(({value:e,label:t})=>((0,a.wg)(),(0,a.j4)(c,{key:e,value:!0,isPermanentValue:!0},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e)+" ("+(0,r.zw)(t)+") ",1)])),_:2},1024)))),128))]),(0,a._)("div",nt,[(0,a.Wm)(u,{color:"primary"},{default:(0,a.w5)((()=>[at])),_:1}),(0,a.Wm)(u,{color:"black"},{default:(0,a.w5)((()=>[st])),_:1})])])}const rt={class:"wrapper"},it={class:"content"},lt={class:"value"},ct={class:"description"};function ut(e,t,n,s,o,i){const l=(0,a.up)("IconWithTooltip");return(0,a.wg)(),(0,a.iD)("div",rt,[(0,a._)("div",it,[(0,a._)("div",lt,[(0,a.Uk)((0,r.zw)(n.value),1),(0,a._)("span",null,(0,r.zw)(n.valuePostscript),1)]),(0,a._)("div",ct,(0,r.zw)(n.desciption),1)]),(0,a.Wm)(l)])}var dt={props:{value:{type:String,required:!0},valuePostscript:{type:String,required:!0},desciption:{type:String,required:!0},tooltipValue:String},components:{IconWithTooltip:Te}};const pt=(0,A.Z)(dt,[["render",ut],["__scopeId","data-v-7d1ef771"]]);var vt=pt;const mt={class:"badgeWithCheckbox"};function ht(e,t,n,s,o,r){const i=(0,a.up)("AppCheckbox");return(0,a.wg)(),(0,a.iD)("div",mt,[(0,a.Wm)(i,{value:n.value,isPermanentValue:!0},{default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default",{},void 0,!0)])),_:3},8,["value"])])}var gt=n(1116),bt={props:{value:{type:Boolean,required:!0}},components:{AppCheckbox:gt.Z}};const wt=(0,A.Z)(bt,[["render",ht],["__scopeId","data-v-5eac6458"]]);var ft=wt;const Ct=[{value:"1920x1080",label:"Stories"},{value:"1080x1080",label:"Post"},{value:"1280x720",label:"Post"}];var _t={data:()=>({sizesMapper:Ct}),components:{AppButton:y.Z,StatisticBlock:vt,BadgeWithCheckbox:ft}};const yt=(0,A.Z)(_t,[["render",ot],["__scopeId","data-v-e100a910"]]);var St=yt,Dt={components:{BannerCard:St}};const kt=(0,A.Z)(Dt,[["render",Ne],["__scopeId","data-v-f03cfa4a"]]);var Wt=kt;const Bt=e=>((0,a.dD)("data-v-7e7a9f4c"),e=e(),(0,a.Cn)(),e),Lt={class:"newBanners"},It=Bt((()=>(0,a._)("div",{class:"leftContent"},[(0,a._)("div",{class:"title"},"100 new banner release after:"),(0,a._)("div",{class:"description"}," We replenish banners every week, new templates for all categories ")],-1))),xt=Bt((()=>(0,a._)("div",{class:"image"},null,-1)));function Zt(e,t,n,s,o,r){const i=(0,a.up)("TimerByBlocks");return(0,a.wg)(),(0,a.iD)("div",Lt,[It,(0,a.Wm)(i,{class:"centerContent"}),xt])}const zt={class:"timerByBlocks"},At={class:"valueCard"},Vt={class:"label"};function Ht(e,t,n,s,o,i){return(0,a.wg)(),(0,a.iD)("div",zt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.countdownMapper,(({value:e,label:t})=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a._)("div",At,(0,r.zw)(e),1),(0,a._)("div",Vt,(0,r.zw)(t),1)])))),128))])}var Pt=n(2621),Mt={setup(){return{appStore:(0,Pt.q)()}},computed:{countdownMapper(){const{days:e,hours:t,minutes:n,seconds:a}=this.appStore.countdown;return[{value:e,label:"days"},{value:t,label:"hours"},{value:n,label:"minutes"},{value:a,label:"seconds"}]}}};const Ut=(0,A.Z)(Mt,[["render",Ht],["__scopeId","data-v-01d88fcc"]]);var $t=Ut,Ft={components:{TimerByBlocks:$t}};const qt=(0,A.Z)(Ft,[["render",Zt],["__scopeId","data-v-7e7a9f4c"]]);var Tt=qt;const jt=e=>((0,a.dD)("data-v-d21b0010"),e=e(),(0,a.Cn)(),e),Ot={class:"suggestionBanner"},Et={class:"leftContent"},Yt=jt((()=>(0,a._)("div",{class:"title"},"Do you have any wishes or suggestions?",-1))),Gt={class:"bottomContent"},Kt=(0,a.Uk)("Write to telegram"),Rt=jt((()=>(0,a._)("div",{class:"description"}," For every cool suggestion or criticism - we give a premium account for one month ",-1))),Nt=jt((()=>(0,a._)("div",{class:"image"},null,-1)));function Jt(e,t,n,s,o,r){const i=(0,a.up)("AppButton");return(0,a.wg)(),(0,a.iD)("div",Ot,[(0,a._)("div",Et,[Yt,(0,a._)("div",Gt,[(0,a.Wm)(i,{color:"primary"},{default:(0,a.w5)((()=>[Kt])),_:1}),Rt])]),Nt])}var Qt={components:{AppButton:y.Z}};const Xt=(0,A.Z)(Qt,[["render",Jt],["__scopeId","data-v-d21b0010"]]);var en=Xt,tn={name:"bannerGenerator",setup(){},components:{GeneratorMenu:Ye,BannersList:Wt,NewBannersBanner:Tt,SuggestionBanner:en}};const nn=(0,A.Z)(tn,[["render",o],["__scopeId","data-v-15481930"]]);var an=nn},9946:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var a=n(3396);const s={class:"banner"},o={class:"main_column"},r={class:"banner_demo",ref:"bannerDemo"},i={key:0,class:"banner_demo_wrapper"};function l(e,t,n,l,c,u){const d=(0,a.up)("BannerCanvas");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",o,[(0,a._)("div",r,["success"===u.bannerStatus?((0,a.wg)(),(0,a.iD)("div",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.canvases,(t=>((0,a.wg)(),(0,a.j4)(d,{key:t.title,canvas:t,scheme:u.banner?.schemes[0]?.id,banner:u.banner,zoom:e.bannerDemoWidth/t.width,ref_for:!0,ref:"canvas"},null,8,["canvas","scheme","banner","zoom"])))),128))])):(0,a.kq)("",!0)],512)])])}var c=n(2613),u=n.n(c),d=n(5995),p=n(2621),v=n(5553),m=n(62),h=n(6169),g=n(2110),b={setup(){return{appStore:(0,p.q)(),categoriesStore:(0,v.x)(),bannersStore:(0,m.i)(),toaster:(0,h.P)()}},data:()=>({zoom:1,uploadProgress:0,isSubmitting:!1,isSubmitSuccess:"",bannerDemoWidth:0,bannerDemoResizeObserver:null}),props:["id"],methods:{async getBanner(){try{await this.bannersStore.getBanner(this.id)}catch(e){console.error(e),this.toaster.error("Не получилось загрузить баннер :(")}},addColorScheme(e){this.bannersStore.addColorScheme(e,this.$refs.schemes)},selectCanvas(e){this.bannersStore.setCanvasId(e),this.$nextTick((()=>{this.scrollToCanvasCenter()}))},async submit(){if(this.isSubmitting)return;const{conversion:e,category:t,userGroup:n,canvases:a,schemes:s,layers:o,files:r}=this.banner;try{this.isSubmitting=!0,this.uploadProgress=1;const i={onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);this.uploadProgress=t>98?98:t}},l=this.$refs.canvas[0].$el.querySelector(".canvas"),c=await u().toPng(l,{}),d={files:r,conversion:e,preview:c.split(",")[1],category_id:t?.value,is_premium:"premium"===n?.value,data:{canvases:a,schemes:s,layers:o}};this.id?(d.id=this.id,await g.Z.banners.update(d,i),this.toaster.success("Изменения сохранены!")):(await g.Z.banners.create(d,i),this.$router.push({name:"adminBanners"}),this.toaster.success("Баннер добавлен!"))}catch(i){console.log(i),this.toaster.error("Не получилось сохранить :(")}finally{this.isSubmitting=!1,this.uploadProgress=0}},async init(){this.appStore.toggleAppLoader(!0),this.id?await this.getBanner():this.bannersStore.setUserGroup(0);const e=this.$refs.canvas[0].$el.querySelector(".canvas_preload");await u().toPng(e),this.bannerDemoResizeObserver=new ResizeObserver((e=>{for(let t of e)this.bannerDemoWidth=t.contentRect.width})),this.bannerDemoResizeObserver.observe(this.$refs.bannerDemo),setTimeout((()=>{this.appStore.toggleAppLoader(!1)}),135)},changeZoom(e){switch(e){case"=":this.zoom+=.05;break;case"-":this.zoom-=.05;break;default:this.zoom=1}},calculateBannerDemoWidth(){this.bannerDemoWidth=this.$refs.bannerDemo.offsetWidth}},computed:{banner(){return this.bannersStore.banner.data},bannerStatus(){return this.bannersStore.banner.status},currentCanvasId(){return this.bannersStore.currentCanvasId},currentSchemeId(){return this.bannersStore.currentSchemeId},canvases(){return this.bannersStore.canvases},canvas(){return this.bannersStore.canvas},schemes(){return this.bannersStore.schemes},layers(){return this.banner.layers.map((e=>e)).reverse()},activeLayer(){return this.bannersStore.activeLayer},categories(){return this.categoriesStore.categories.data},listCategories(){return this.categories.map((({id:e,name:t})=>({label:t,value:e})))}},mounted(){this.init(),this.calculateBannerDemoWidth()},beforeUnmount(){this.bannerDemoResizeObserver.disconnect()},components:{BannerCanvas:d.Z},watch:{categories:{deep:!0,immediate:!0,handler(){this.banner.category=this.listCategories[0]}}}},w=n(89);const f=(0,w.Z)(b,[["render",l],["__scopeId","data-v-bf4f304e"]]);var C=f}}]);
//# sourceMappingURL=banner.73c2bf12.js.map