{"version":3,"file":"js/banner.c609a852.js","mappings":"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","sources":["webpack://unicorn.banners/./src/views/BannerView.vue","webpack://unicorn.banners/./src/views/BannerView.vue?90cd"],"sourcesContent":["<template>\n  <div class=\"banner\">\n    <div class=\"main_column\">\n      <div class=\"banner_demo\" ref=\"bannerDemo\">\n        <div class=\"banner_demo_wrapper\" v-if=\"bannerStatus === 'success'\">\n          <BannerCanvas\n            v-for=\"canvasItem in canvases\"\n            :key=\"canvasItem.title\"\n            :canvas=\"canvasItem\"\n            :scheme=\"banner?.schemes[0]?.id\"\n            :banner=\"banner\"\n            :zoom=\"bannerDemoWidth / canvasItem.width\"\n            ref=\"canvas\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport domtoimage from 'dom-to-image';\nimport BannerCanvas from '@/components/BannerCanvas.vue';\nimport { useAppStore } from '@/stores/useAppStore';\nimport { useCategoriesStore } from '@/stores/useCategoriesStore';\nimport { useBannersStore } from '@/stores/useBannersStore';\nimport { useToaster } from '@/utils/useToaster';\nimport Client from '@/api/index';\n\nexport default {\n  setup() {\n    return {\n      appStore: useAppStore(),\n      categoriesStore: useCategoriesStore(),\n      bannersStore: useBannersStore(),\n      toaster: useToaster(),\n    };\n  },\n  data: () => ({\n    zoom: 1,\n    uploadProgress: 0,\n    isSubmitting: false,\n    isSubmitSuccess: '',\n    bannerDemoWidth: 0,\n    bannerDemoResizeObserver: null,\n  }),\n  props: ['id'],\n  methods: {\n    async getBanner() {\n      try {\n        await this.bannersStore.getBanner(this.id);\n      } catch (error) {\n        console.error(error);\n        this.toaster.error('Не получилось загрузить баннер :(');\n      }\n    },\n    addColorScheme(color) {\n      this.bannersStore.addColorScheme(color, this.$refs.schemes);\n    },\n    selectCanvas(id) {\n      this.bannersStore.setCanvasId(id);\n      this.$nextTick(() => {\n        this.scrollToCanvasCenter();\n      });\n    },\n    async submit() {\n      if (this.isSubmitting) {\n        return;\n      }\n\n      const {\n        conversion,\n        category,\n        userGroup,\n        canvases,\n        schemes,\n        layers,\n        files,\n      } = this.banner;\n\n      try {\n        this.isSubmitting = true;\n        this.uploadProgress = 1;\n        const config = {\n          onUploadProgress: (progressEvent) => {\n            const progress = Math.round(\n              (progressEvent.loaded * 100) / progressEvent.total,\n            );\n            this.uploadProgress = progress > 98 ? 98 : progress;\n          },\n        };\n        // const scale = 2;\n        const canvasEl = this.$refs.canvas[0].$el.querySelector('.canvas');\n        const preview = await domtoimage.toPng(canvasEl, {\n          // width: this.$refs.canvas.clientWidth * scale,\n          // height: this.$refs.canvas.clientHeight * scale,\n          // style: {\n          //   transform: `scale(${scale})`,\n          //   transformOrigin: 'top left',\n          // },\n        });\n        const banner = {\n          files,\n          conversion,\n          preview: preview.split(',')[1],\n          category_id: category?.value,\n          is_premium: userGroup?.value === 'premium',\n          data: {\n            canvases,\n            schemes,\n            layers,\n          },\n        };\n\n        if (this.id) {\n          banner.id = this.id;\n          await Client.banners.update(banner, config);\n          this.toaster.success('Изменения сохранены!');\n        } else {\n          await Client.banners.create(banner, config);\n          this.$router.push({ name: 'adminBanners' });\n          this.toaster.success('Баннер добавлен!');\n        }\n      } catch (error) {\n        console.log(error);\n        this.toaster.error('Не получилось сохранить :(');\n      } finally {\n        this.isSubmitting = false;\n        this.uploadProgress = 0;\n      }\n    },\n    async init() {\n      this.appStore.toggleAppLoader(true);\n\n      if (this.id) {\n        await this.getBanner();\n      } else {\n        this.bannersStore.setUserGroup(0);\n      }\n\n      const preloadEl =\n        this.$refs.canvas[0].$el.querySelector('.canvas_preload');\n      await domtoimage.toPng(preloadEl);\n\n      this.bannerDemoResizeObserver = new ResizeObserver((entries) => {\n        for (let entry of entries) {\n          this.bannerDemoWidth = entry.contentRect.width;\n        }\n      });\n      this.bannerDemoResizeObserver.observe(this.$refs.bannerDemo);\n\n      setTimeout(() => {\n        this.appStore.toggleAppLoader(false);\n      }, 135);\n    },\n    changeZoom(key) {\n      switch (key) {\n        case '=':\n          this.zoom += 0.05;\n          break;\n\n        case '-':\n          this.zoom -= 0.05;\n          break;\n\n        default:\n          this.zoom = 1;\n      }\n    },\n\n    calculateBannerDemoWidth() {\n      this.bannerDemoWidth = this.$refs.bannerDemo.offsetWidth;\n    },\n  },\n  computed: {\n    banner() {\n      return this.bannersStore.banner.data;\n    },\n    bannerStatus() {\n      return this.bannersStore.banner.status;\n    },\n    currentCanvasId() {\n      return this.bannersStore.currentCanvasId;\n    },\n    currentSchemeId() {\n      return this.bannersStore.currentSchemeId;\n    },\n    canvases() {\n      return this.bannersStore.canvases;\n    },\n    canvas() {\n      return this.bannersStore.canvas;\n    },\n    schemes() {\n      return this.bannersStore.schemes;\n    },\n    layers() {\n      return this.banner.layers.map((layer) => layer).reverse();\n    },\n    activeLayer() {\n      return this.bannersStore.activeLayer;\n    },\n    categories() {\n      return this.categoriesStore.categories.data;\n    },\n    listCategories() {\n      return this.categories.map(({ id, name }) => {\n        return {\n          label: name,\n          value: id,\n        };\n      });\n    },\n  },\n  mounted() {\n    this.init();\n    this.calculateBannerDemoWidth();\n  },\n  beforeUnmount() {\n    this.bannerDemoResizeObserver.disconnect();\n  },\n  components: {\n    BannerCanvas,\n  },\n  watch: {\n    categories: {\n      deep: true,\n      immediate: true,\n      handler() {\n        this.banner.category = this.listCategories[0];\n      },\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n::-webkit-scrollbar {\n  height: 16px;\n}\n::-webkit-scrollbar-track {\n  border-radius: 8px;\n}\n::-webkit-scrollbar-thumb {\n  width: 56px;\n  border-radius: 8px;\n  border: 4px solid transparent;\n  background-clip: content-box;\n  background-color: #ccc;\n}\n\n.banner_demo {\n  max-width: 500px;\n}\n.banner_demo_wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.canvas_wrapper {\n  & + & {\n    margin-top: 10px;\n  }\n}\n\n.editor {\n  position: relative;\n  width: 200%;\n  display: flex;\n}\n.canvas_scroller {\n  overflow-x: auto;\n  overflow-y: hidden;\n  width: 50%;\n}\n.canvas_wrapper {\n  width: calc(var(--canvas-width) * 3);\n}\n\n.editor_settings {\n  margin-top: 20px;\n  margin-bottom: 15px;\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n}\n.editor_settings_colorScheme {\n  background-color: #fff;\n  border-radius: 15px;\n  padding: 15px 25px;\n  width: 380px;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  position: relative;\n\n  h4 {\n    flex-shrink: 0;\n    width: 75px;\n  }\n  &_colors {\n    display: flex;\n    overflow: auto;\n    gap: 5px;\n    overscroll-behavior: none;\n\n    &_wrapper {\n      border-radius: 15px;\n      margin: 0 15px;\n      width: 100%;\n      overflow: hidden;\n      height: 45px;\n      position: relative;\n    }\n    button {\n      width: 45px;\n      height: 45px;\n      background: var(--color);\n      border: none;\n      padding: 0;\n      appearance: none;\n      border-radius: 15px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: #fff;\n\n      &.is_active {\n        .icon {\n          opacity: 1;\n          transform: scale(1) rotate(0);\n          filter: drop-shadow(0px 0px 1px rgba(0, 0, 0, 0.5))\n            drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.35));\n        }\n      }\n      .icon {\n        opacity: 0;\n        transition: 0.135s ease;\n        transition-property: transform, opacity;\n        pointer-events: none;\n        transform: scale(0) rotate(-75deg);\n      }\n    }\n  }\n  &_picker {\n    position: absolute;\n    top: 100%;\n    z-index: 10;\n    width: fit-content !important;\n    left: var(--left);\n    transform: translateX(-50%);\n    margin-left: 25px;\n  }\n}\n.editor_settings_form {\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n  gap: 5px;\n\n  &_conversion,\n  &_userGroup {\n    width: 130px;\n  }\n  &_category {\n    width: 200px;\n  }\n  &_submit {\n    max-width: 200px;\n    width: 100%;\n  }\n}\n.editor_settings_canvases {\n  width: 100%;\n  display: flex;\n  position: relative;\n  margin-top: 10px;\n  border-radius: 15px;\n  gap: 2px;\n\n  &_item {\n    width: calc(100% / var(--canvases-count));\n    min-width: 0;\n    background: #fff;\n\n    &:first-child {\n      border-top-left-radius: inherit;\n      border-bottom-left-radius: inherit;\n    }\n    &:last-child {\n      border-top-right-radius: inherit;\n      border-bottom-right-radius: inherit;\n    }\n    &_button {\n      align-items: stretch;\n      display: flex;\n      width: 100%;\n      border: none;\n      padding: 15px;\n      appearance: none;\n      background: none;\n      border-radius: inherit;\n      cursor: pointer;\n      color: inherit;\n      font: inherit;\n\n      &.is-active {\n        opacity: 1;\n        box-shadow: 0 -3px 0 0 var(--color-accent) inset;\n      }\n    }\n    &_image {\n      height: 60px;\n      width: 60px;\n      flex-shrink: 0;\n      position: relative;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-right: 15px;\n      color: #cfcfcf;\n\n      &::before {\n        position: absolute;\n        content: '';\n        aspect-ratio: var(--aspect-ratio);\n        background: #ebebeb;\n        width: 100%;\n        border-radius: 7px;\n      }\n      &.is-vertical {\n        &::before {\n          height: 100%;\n          width: auto;\n        }\n      }\n      .icon {\n        position: relative;\n      }\n    }\n    &_info {\n      text-align: left;\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n\n      h4 {\n        margin-top: -3px;\n      }\n      &_size {\n        background: #ebebeb;\n        border-radius: 10px;\n        padding: 0 0.5em;\n        margin-top: auto;\n      }\n    }\n  }\n}\n\n.toolbar {\n  position: relative;\n  z-index: 1;\n  pointer-events: none;\n  width: 50%;\n  margin-left: -50%;\n  padding-bottom: 50px;\n\n  .main_column {\n    display: flex;\n    justify-content: space-between;\n    position: sticky;\n    top: 0;\n  }\n}\n.toolbar_column {\n  flex-shrink: 0;\n  width: 300px;\n}\n.toolbar_canvas {\n  width: 100%;\n  min-width: 0;\n}\n.toolbar_section {\n  pointer-events: all;\n  box-shadow: 0px 2.4px 4px rgba(0, 0, 0, 0.02),\n    0px 8.7px 13.4px rgba(0, 0, 0, 0.029), 0px 50px 60px rgba(0, 0, 0, 0.05);\n  background-color: #fff;\n  border-radius: 15px;\n  padding: 25px;\n\n  & + .toolbar_section {\n    margin-top: 10px;\n  }\n}\n\n.toolbar_section_layers {\n  height: 70vh;\n  overflow: auto;\n  display: flex;\n  flex-direction: column;\n}\n.toolbar_section_layers_list {\n  display: flex;\n  flex-direction: column;\n  margin: 0 -25px;\n\n  & + & {\n    border-top: 1px solid hsla(0, 0%, 0%, 0.05);\n  }\n}\n.toolbar_section_layers_actions {\n  display: flex;\n  border-top: 1px solid hsla(0, 0%, 0%, 0.05);\n  margin: auto -25px -25px;\n  padding: 5px 25px;\n  align-items: center;\n  flex-direction: row-reverse;\n  position: sticky;\n  bottom: -25px;\n  background: white;\n\n  button {\n    border-radius: 50%;\n    transition: 0.075s ease;\n    appearance: none;\n    padding: 0;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    display: flex;\n    padding: 0.5em;\n    font-size: inherit;\n    background: none;\n    color: #cfcfcf;\n\n    &:hover,\n    &:focus {\n      background-color: hsla(0, 0%, 0%, 0.025);\n    }\n    .icon {\n      width: 1.25em;\n      height: 1.25em;\n      object-fit: contain;\n    }\n  }\n}\n\n.settings_group {\n  & + & {\n    margin-top: 25px;\n  }\n}\n.toolbar_section_settings {\n  font-weight: 600;\n  max-height: 70vh;\n  overflow-y: auto;\n\n  h4 {\n    margin-bottom: 5px;\n  }\n}\n.settings_position {\n  &_wrapper {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 10px;\n  }\n  label {\n    display: flex;\n    align-items: center;\n\n    span {\n      color: #989898;\n      margin-right: 10px;\n    }\n  }\n}\n.settings_font {\n  &_wrapper {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 10px;\n  }\n}\n.settings_font_size {\n  &_wrapper {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 10px;\n  }\n}\n.settings_line_height {\n  &_wrapper {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 10px;\n  }\n  label {\n    display: flex;\n    align-items: center;\n\n    .icon {\n      margin-right: 10px;\n      flex-shrink: 0;\n    }\n  }\n}\n.settings_text_alignment {\n  &_wrapper {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 10px;\n\n    & > div {\n      display: flex;\n      gap: 10px;\n\n      &:last-child {\n        justify-content: flex-end;\n      }\n    }\n    label {\n      position: relative;\n      flex-shrink: 0;\n      height: 30px;\n      padding: 0;\n      border: none;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background: none;\n\n      .icon {\n        opacity: 0.4;\n        transition: 0.075s ease;\n      }\n      input {\n        position: absolute;\n        opacity: 0;\n        z-index: -1;\n        width: 1px;\n        height: 1px;\n\n        &:checked + .icon {\n          opacity: 1;\n        }\n      }\n    }\n  }\n}\n.settings_font_color {\n  &_wrapper {\n    display: flex;\n    position: relative;\n  }\n  &_box {\n    border-radius: 15px;\n    background-color: currentColor;\n    color: var(--color);\n    cursor: pointer;\n    width: 100%;\n    height: 100%;\n  }\n  &_picker_wrapper {\n    margin-right: 10px;\n    flex-shrink: 0;\n    width: 45px;\n  }\n  &_picker {\n    position: absolute;\n    bottom: 100%;\n    margin-bottom: 10px;\n    width: 100%;\n  }\n}\n.settings_copyright_list_item {\n  display: flex;\n  align-items: center;\n\n  & + & {\n    margin-top: 5px;\n  }\n  .radio {\n    margin-right: 20px;\n  }\n}\n.settings_size {\n  &_wrapper {\n    display: flex;\n    gap: 10px;\n  }\n  label {\n    display: flex;\n    align-items: center;\n    flex: 1;\n\n    span {\n      color: #989898;\n      margin-right: 10px;\n    }\n  }\n}\n</style>\n","import { render } from \"./BannerView.vue?vue&type=template&id=bf4f304e&scoped=true\"\nimport script from \"./BannerView.vue?vue&type=script&lang=js\"\nexport * from \"./BannerView.vue?vue&type=script&lang=js\"\n\nimport \"./BannerView.vue?vue&type=style&index=0&id=bf4f304e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/intr0vert/Git/aibanner/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bf4f304e\"]])\n\nexport default __exports__"],"names":["class","ref","_createElementBlock","_createElementVNode","$options","_Fragment","_renderList","canvasItem","_createBlock","_component_BannerCanvas","key","title","canvas","scheme","schemes","id","banner","zoom","_ctx","width","setup","appStore","useAppStore","categoriesStore","useCategoriesStore","bannersStore","useBannersStore","toaster","useToaster","data","uploadProgress","isSubmitting","isSubmitSuccess","bannerDemoWidth","bannerDemoResizeObserver","props","methods","async","this","getBanner","error","console","addColorScheme","color","$refs","selectCanvas","setCanvasId","$nextTick","scrollToCanvasCenter","conversion","category","userGroup","canvases","layers","files","config","onUploadProgress","progressEvent","progress","Math","round","loaded","total","canvasEl","$el","querySelector","preview","domtoimage","split","category_id","value","is_premium","Client","success","$router","push","name","log","toggleAppLoader","setUserGroup","preloadEl","ResizeObserver","entries","entry","contentRect","observe","bannerDemo","setTimeout","changeZoom","calculateBannerDemoWidth","offsetWidth","computed","bannerStatus","status","currentCanvasId","currentSchemeId","map","layer","reverse","activeLayer","categories","listCategories","label","mounted","init","beforeUnmount","disconnect","components","BannerCanvas","watch","deep","immediate","handler","__exports__","render"],"sourceRoot":""}