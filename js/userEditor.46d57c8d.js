"use strict";(self["webpackChunkunicorn_banners"]=self["webpackChunkunicorn_banners"]||[]).push([[395],{3453:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(3396);const a=e=>((0,r.dD)("data-v-66057f34"),e=e(),(0,r.Cn)(),e),s={class:"home"},o=a((()=>(0,r._)("h1",null,"Comming soon",-1))),i=a((()=>(0,r._)("p",null,[(0,r.Uk)(" We're building something spectacular. "),(0,r._)("br"),(0,r.Uk)("Please have a little faith and patience. ")],-1))),d=a((()=>(0,r._)("span",null,"If you're an admin",-1))),l=(0,r.Uk)("Sign in");function u(e,t,n,a,u,c){const p=(0,r.up)("AppIcon"),m=(0,r.up)("AppButton");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",null,[(0,r.Wm)(p,{icon:"logo",class:"home_logo",size:100}),o,i,d,(0,r.Wm)(m,{onClick:c.showModalSignIn,outlined:"",color:"black"},{default:(0,r.w5)((()=>[l])),_:1},8,["onClick"])])])}var c=n(7661),p=n(2621),m=n(5044),h={name:"HomeView",setup(){return{appStore:(0,p.q)(),userStore:(0,m.L)()}},components:{AppButton:c.Z},methods:{showModalSignIn(){this.isAuth?this.$router.push({name:"adminBanners"}):this.appStore.showModalAuth("signin")}},computed:{isAuth(){return this.userStore.isAuthenticated},isAdmin(){return this.userStore.isAdmin}}},g=n(89);const v=(0,g.Z)(h,[["render",u],["__scopeId","data-v-66057f34"]]);var b=v},3101:function(e,t,n){n.r(t),n.d(t,{default:function(){return Oe}});var r=n(3396);const a=e=>((0,r.dD)("data-v-b3180cd2"),e=e(),(0,r.Cn)(),e),s={class:"page-container"},o={class:"userEditorPage--header"},i=(0,r.Uk)(" Back "),d=a((()=>(0,r._)("h2",{class:"userEditorPage--title"},"Редактирование",-1)));function l(e,t,n,a,l,u){const c=(0,r.up)("ArrowLeftIcon"),p=(0,r.up)("AppButton"),m=(0,r.up)("UserEditor",!0),h=(0,r.up)("SimilarBanners"),g=(0,r.up)("MadeOrderBanner");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",o,[(0,r.Wm)(p,{color:"white",onClick:u.onBack},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{style:{marginRight:"13px"}}),i])),_:1},8,["onClick"]),d]),(0,r.Wm)(m,{style:{marginBottom:"146px"}}),(0,r.Wm)(h,{style:{marginBottom:"85px"}}),(0,r.Wm)(g)])}var u=n(6126),c=n(5573);const p=e=>((0,r.dD)("data-v-765ab42c"),e=e(),(0,r.Cn)(),e),m={class:"madeOrderBanner"},h=p((()=>(0,r._)("div",{class:"leftContent"}," Would like personalized banners for your company? ",-1))),g={class:"rightContent"},v=p((()=>(0,r._)("img",{src:u,width:"20",class:"icon"},null,-1))),b=(0,r.Uk)(" Learn more "),w=p((()=>(0,r._)("img",{src:c,width:"20",class:"icon"},null,-1))),B=(0,r.Uk)(" Make Order ");function k(e,t,n,a,s,o){const i=(0,r.up)("AppButton");return(0,r.wg)(),(0,r.iD)("div",m,[h,(0,r._)("div",g,[(0,r.Wm)(i,{outlinedThin:""},{default:(0,r.w5)((()=>[v,b])),_:1}),(0,r.Wm)(i,{color:"white"},{default:(0,r.w5)((()=>[w,B])),_:1})])])}var _=n(7661),y={components:{AppButton:_.Z}},f=n(89);const C=(0,f.Z)(y,[["render",k],["__scopeId","data-v-765ab42c"]]);var S=C,x=n(2207);const W=e=>((0,r.dD)("data-v-6c6dd954"),e=e(),(0,r.Cn)(),e),I={class:"similar_banners"},L=W((()=>(0,r._)("div",{class:"title"},"Similar banners:",-1))),E={key:0,class:"banners_list"},z={key:1,class:"banners_empty"},D=W((()=>(0,r._)("img",{src:x,alt:""},null,-1))),Z=W((()=>(0,r._)("h3",null,"Нет похожих баннеров",-1))),U=[D,Z];function A(e,t,n,a,s,o){const i=(0,r.up)("BannerCard");return(0,r.wg)(),(0,r.iD)("div",I,[L,o.banners.length?((0,r.wg)(),(0,r.iD)("ul",E,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.banners,(e=>((0,r.wg)(),(0,r.j4)(i,{isSimilar:"",banner:e,key:e.id},null,8,["banner"])))),128))])):((0,r.wg)(),(0,r.iD)("div",z,U))])}var V=n(2621),P=n(4653),j=n(2037),F=n(4301);const q=(0,F.Q_)("generatedBanners",{state:()=>({generatedBanners:{data:[],status:"",error:"",oldParams:{description:null,offer:null,companyCategory:null,color:null,page:0}}}),getters:{banners(){return this.generatedBanners.data},currentPage(){return this.generatedBanners.oldParams.page},oldParams(){return this.generatedBanners.oldParams}},actions:{async getGeneratedBanners(){this.generatedBanners.status="loading";try{const{data:e}=await j.Z.generatedBanners.get();return this.generatedBanners.data=e,this.generatedBanners.status="success",this.generatedBanners.error=null,Promise.resolve()}catch(e){return this.generatedBanners.status="error",this.generatedBanners.error=e,Promise.reject(e)}},async findGeneratedBanners(e,t=!1){this.generatedBanners.status="loading";try{const n=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t&&null!==t&&void 0!==t)));this.generatedBanners.oldParams={...n};const{data:r}=await j.Z.generatedBanners.findGeneratedBanners(n);return this.generatedBanners.data=t?[...this.banners,...r]:r,this.generatedBanners.page=e.page,this.generatedBanners.status="success",this.generatedBanners.error=null,Promise.resolve()}catch(n){return this.generatedBanners.status="error",this.generatedBanners.error=n,this.generatedBanners.data=[],Promise.reject(n)}}}});var H=n(6169),M=n(8691),N={setup(){return{appStore:(0,V.q)(),toaster:(0,H.P)(),bannersStore:(0,P.i)(),generatedBannersStore:q()}},mounted(){this.init()},computed:{banners(){return this.bannersStore.banners.data}},methods:{async getGeneratedBanners(){try{await this.generatedBannersStore.getGeneratedBanners()}catch(e){console.error(e),this.toaster.error("Не получилось загрузить баннеры :(")}},async init(){this.bannersStore.getBanners()}},components:{BannerCard:M.Z}};const R=(0,f.Z)(N,[["render",A],["__scopeId","data-v-6c6dd954"]]);var O=R;const G={class:"userEditor--container"};function $(e,t,n,a,s,o){const i=(0,r.up)("UserEditorFields"),d=(0,r.up)("UserEditorHeader"),l=(0,r.up)("UserEditorCanvas"),u=(0,r.up)("UserEditorSizes");return(0,r.wg)(),(0,r.iD)("div",G,[(0,r.Wm)(i),(0,r._)("div",null,[(0,r.Wm)(d,{conversion:o.conversion,downloadsCount:o.downloadsCount},null,8,["conversion","downloadsCount"]),(0,r.Wm)(l,{containerWidth:e.containerWidth},null,8,["containerWidth"])]),(0,r.Wm)(u)])}var K=n(9242);const T={class:"userEditorFields--wrapper"};function Y(e,t,n,a,s,o){const i=(0,r.up)("InputWithLabel"),d=(0,r.up)("ColorsList"),l=(0,r.up)("WithLabel");return(0,r.wg)(),(0,r.iD)("div",T,[(0,r._)("form",{onSubmit:t[4]||(t[4]=(0,K.iM)(((...t)=>e.submit&&e.submit(...t)),["prevent"])),novalidate:"",class:"userEditorFields--form"},[o.textLayers.header?((0,r.wg)(),(0,r.j4)(i,{key:0,modelValue:o.textLayers.header.text,"onUpdate:modelValue":t[0]||(t[0]=e=>o.textLayers.header.text=e),label:"Header",placeholder:"Header",type:"text",max:"54"},null,8,["modelValue"])):(0,r.kq)("",!0),o.textLayers.description?((0,r.wg)(),(0,r.j4)(i,{key:1,modelValue:o.textLayers.description.text,"onUpdate:modelValue":t[1]||(t[1]=e=>o.textLayers.description.text=e),label:"Description",placeholder:"Description",type:"text",max:"54"},null,8,["modelValue"])):(0,r.kq)("",!0),o.textLayers.buttonName?((0,r.wg)(),(0,r.j4)(i,{key:2,modelValue:o.textLayers.buttonName.text,"onUpdate:modelValue":t[2]||(t[2]=e=>o.textLayers.buttonName.text=e),label:"Button name",placeholder:"Button name",type:"text",max:"54"},null,8,["modelValue"])):(0,r.kq)("",!0),(0,r.Wm)(l,{label:"Brand color"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{colorList:s.colorList,modelValue:s.formData.color,"onUpdate:modelValue":t[3]||(t[3]=e=>s.formData.color=e)},null,8,["colorList","modelValue"])])),_:1})],32)])}var Q=n(9093),J=n(2881),X=n(6483);const ee=["#FFFFFF","#2467EC","#F8AC67","#25262C"];var te={setup(){return{bannersStore:(0,P.i)()}},data(){return{formData:{color:ee[0]},colorList:ee}},computed:{textLayers(){return this.bannersStore.getLayersByTitles(["header","description","buttonName"])}},components:{InputWithLabel:Q.Z,WithLabel:J.Z,ColorsList:X.Z}};const ne=(0,f.Z)(te,[["render",Y],["__scopeId","data-v-bbfdb468"]]);var re=ne;const ae={class:"userEditor--header"},se={class:"userEditor--metrics"},oe=(0,r.Uk)(" Download banner ");function ie(e,t,n,a,s,o){const i=(0,r.up)("StatisticBlock"),d=(0,r.up)("AppButton");return(0,r.wg)(),(0,r.iD)("div",ae,[(0,r._)("div",se,[n.downloadsCount||0===n.downloadsCount?((0,r.wg)(),(0,r.j4)(i,{key:0,view:"secondary",desciption:"Number of downloads",value:n.downloadsCount,valuePostscript:"times"},null,8,["value"])):(0,r.kq)("",!0),n.conversion||0===n.conversion?((0,r.wg)(),(0,r.j4)(i,{key:1,view:"secondary",desciption:"Conversion",value:n.conversion,valuePostscript:"%"},null,8,["value"])):(0,r.kq)("",!0)]),(0,r.Wm)(d,{color:"primary",style:{height:"auto"},onClick:o.onDownload},{default:(0,r.w5)((()=>[oe])),_:1},8,["onClick"])])}var de=n(7285),le={setup(){return{appStore:(0,V.q)()}},props:{conversion:{required:!0,type:Number},downloadsCount:{required:!0,type:Number}},methods:{async onDownload(){this.appStore.showModalFeedback(!0)}},components:{AppButton:_.Z,StatisticBlock:de.Z}};const ue=(0,f.Z)(le,[["render",ie],["__scopeId","data-v-1400dfeb"]]);var ce=ue;function pe(e,t,n,a,s,o){const i=(0,r.up)("BannerCanvas"),d=(0,r.up)("ResizableContainer");return(0,r.wg)(),(0,r.j4)(d,{className:"userEditor--canvas-wrapper"},{default:(0,r.w5)((({containerWidth:e})=>["success"===o.bannerStatus?((0,r.wg)(),(0,r.j4)(i,{key:0,canvas:o.canvasItem,scheme:o.banner?.schemes[0]?.id,banner:o.banner,zoom:e/o.canvasItem.width,rounded:""},null,8,["canvas","scheme","banner","zoom"])):(0,r.kq)("",!0)])),_:1})}var me=n(9441),he=n(1650),ge={setup(){return{bannersStore:(0,P.i)()}},computed:{banner(){return this.bannersStore.banner.data},bannerStatus(){return this.bannersStore.banner.status},canvasItem(){return this.bannersStore.canvases[0]}},components:{BannerCanvas:me.Z,ResizableContainer:he.Z}};const ve=(0,f.Z)(ge,[["render",pe],["__scopeId","data-v-30c1370c"]]);var be=ve,we=n(7139);const Be=e=>((0,r.dD)("data-v-5696e6e0"),e=e(),(0,r.Cn)(),e),ke=Be((()=>(0,r._)("h3",{class:"userEditor--sizesLabel"},"Под какие размеры нужен баннер?",-1))),_e={class:"userEditor--sizesList"},ye={class:"userEditor--sizesItem-image-wrapper"},fe={class:"userEditor--sizesItem-info"},Ce=Be((()=>(0,r._)("div",{class:"label"},"подходит для",-1))),Se={class:"userEditor--sizesItem-name"},xe={class:"userEditor--sizesItem-size label"};function We(e,t,n,a,s,o){const i=(0,r.up)("AppCheckbox"),d=(0,r.up)("AppIcon");return(0,r.wg)(),(0,r.iD)("div",null,[ke,(0,r._)("div",_e,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.sizes,(({checked:e,title:t,height:n,width:a},s)=>((0,r.wg)(),(0,r.iD)("div",{class:"userEditor--sizesItem",key:s},[(0,r.Wm)(i,{hideValue:!0,modelValue:e,"onUpdate:modelValue":e=>o.checkSize(s,e)},null,8,["modelValue","onUpdate:modelValue"]),(0,r._)("div",ye,[(0,r._)("div",{class:"userEditor--sizesItem-image",style:(0,we.j5)({"--sizeItem-image-width":o.getWidthByRatio(a/n),"--sizeItem-image-height":o.getHeightByRatio(a/n)})},[(0,r.Wm)(d,{icon:"gallery-bold",size:20})],4)]),(0,r._)("div",fe,[Ce,(0,r._)("h4",Se,(0,we.zw)(t),1),(0,r._)("div",xe,(0,we.zw)(`${a}x${n}`),1)])])))),128))])])}var Ie=n(5109),Le={setup(){return{bannersStore:(0,P.i)()}},methods:{checkSize(e,t){this.sizes[e].checked=t},getWidthByRatio(e){return e<1?"36px":"64px"},getHeightByRatio(e){return e>1?"36px":"64px"}},computed:{sizes(){return this.bannersStore.canvases}},components:{AppCheckbox:Ie.Z}};const Ee=(0,f.Z)(Le,[["render",We],["__scopeId","data-v-5696e6e0"]]);var ze=Ee,De={setup(){return{bannersStore:(0,P.i)()}},mounted(){this.init()},computed:{conversion(){return this.bannersStore.conversion},downloadsCount(){return this.bannersStore.downloadsCount}},methods:{async init(){const e=this.$route.params?.id;await this.bannersStore.getBanner(e)}},components:{UserEditorFields:re,UserEditorHeader:ce,UserEditorCanvas:be,UserEditorSizes:ze}};const Ze=(0,f.Z)(De,[["render",$],["__scopeId","data-v-48819d2a"]]);var Ue=Ze;const Ae={width:"13",height:"8",viewBox:"0 0 13 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ve=(0,r._)("path",{d:"M3.56055 6.12L1.00055 3.56L3.56055 1",stroke:"#25262C","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Pe=(0,r._)("path",{d:"M11.2402 3.5625H1.07023",stroke:"#25262C","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),je=[Ve,Pe];function Fe(e,t){return(0,r.wg)(),(0,r.iD)("svg",Ae,je)}const qe={},He=(0,f.Z)(qe,[["render",Fe]]);var Me=He,Ne={methods:{onBack(){this.$router.back()}},components:{AppButton:_.Z,ArrowLeftIcon:Me,MadeOrderBanner:S,SimilarBanners:O,UserEditor:Ue}};const Re=(0,f.Z)(Ne,[["render",l],["__scopeId","data-v-b3180cd2"]]);var Oe=Re}}]);
//# sourceMappingURL=userEditor.46d57c8d.js.map